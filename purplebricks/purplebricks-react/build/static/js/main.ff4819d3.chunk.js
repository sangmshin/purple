(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"e",function(){return c}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return s});var n="GET_SEARCH_RESULTS",r="GET_SEARCH_PAGE",c="RESET_SEARCH_PAGE",o="GET_SINGLE_LIST",s="BACK_TO_SEARCH"},141:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(12),r=a(28),c=a.n(r);function o(e){return function(t){return c.a.get("https://api.purplebricks.com/listing-details/api/v2/listing/".concat(e),{headers:{"Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":"*",crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(e){return t((a=e.data,{type:n.d,payload:{data:a}}));var a}).catch(function(e){return console.log("ERROR: ",e)})}}},15:function(e,t,a){e.exports={backBtn:"SingleList_backBtn__QGFmA",single:"SingleList_single__2t8gq",hero__wrapper:"SingleList_hero__wrapper__263Qi",status:"SingleList_status__7owNm",textContent:"SingleList_textContent__Q9-DN",price:"SingleList_price__2voPi",bookBtn:"SingleList_bookBtn__1VKHV",desc:"SingleList_desc__1-wHO",desc_text:"SingleList_desc_text__23tnp",features:"SingleList_features__2tl7D"}},152:function(e,t,a){e.exports=a.p+"static/media/pb-logo-light.bcd740b4.svg"},157:function(e,t,a){e.exports=a(361)},166:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),o=a.n(c),s=a(20),l=(a(166),a(29)),i=a(144),u=a(145),m=a(156),p=a(12),d=a(146),h=a.n(d),g=Object(l.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p.b:return n.data.results;case p.c:var r=h.a.filter(n.data.results,{state:n.state.toUpperCase()});return 0===r.length?["Sorry, no listings matched your search and filter criteria"]:[].concat(Object(m.a)(r),[n.state]);case p.e:return n.data.results;default:return e}},singleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===p.d?n.data:e},isBackToSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===p.a?n.isBackToSearch:e}});var f=Object(l.d)(Object(l.a)(u.a),window.devToolsExtension?window.devToolsExtension():function(e){return e},Object(i.persistState)(function(){var e=window.location.href.match(/[?&]debug_session=([^&#]+)\b/);return e&&e.length>0?e[1]:null}())),_=Object(l.e)(g,{isBackToSearch:!1},f),E=a(373),b=a(376),S=a(375),y=a(23),v=a(24),O=a(26),j=a(25),k=a(27),N=a(28),T=a.n(N),x="http://localhost:8000/search/";var B=a(366),w=a(367),R=a(59),C="http://localhost:8000/search/";var P="http://localhost:8000/search/";var D=a(377),A=a(372),L=a(365),z=a(371),F=a(46),I=a.n(F),H=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onChangeInput=function(e){a.setState({stateName:e.target.value},function(){a.state.stateName.trim().length>0?a.setState({isDisabled:!1}):a.setState({isDisabled:!0})})},a.onReset=function(){return a.setState({stateName:"",isDisabled:!0},function(){return a.props._resetSearchPage()})},a.onSubmitForm=function(e){e.preventDefault(),a.props._getResults(a.state.stateName)},a.state={stateName:"",isDisabled:!0},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"getValidationState",value:function(){var e=this.state.stateName.length;return 2===e?"success":e>2?"error":null}},{key:"componentDidMount",value:function(){!this.props.isBackToSearch&&o.a.findDOMNode(this.myinput).focus();var e=this.props.data[this.props.data.length-1];this.props.isBackToSearch&&"string"===typeof e&&this.setState({stateName:e})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.stateName,c=t.isDisabled;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:I.a.form__wrapper},r.a.createElement("form",{autoFocus:!0,onSubmit:this.onSubmitForm},r.a.createElement(D.a,{controlId:"formBasicText",validationState:this.getValidationState(),className:I.a.form_content},r.a.createElement(A.a,{ref:function(t){return e.myinput=t},type:"text",name:"state",value:a,placeholder:"Search by State",onChange:this.onChangeInput,bsSize:"lg",className:I.a.inputfield}),r.a.createElement(A.a.Feedback,null),r.a.createElement(L.a,null,"State name must be two-letter. (e.g., CA)"),r.a.createElement(z.a,{bsStyle:"primary",bsSize:"lg",type:"submit",disabled:c},"UPDATE"))),r.a.createElement(z.a,{className:I.a.resetBtn,bsSize:"sm",onClick:this.onReset},"RESET")))}}]),t}(n.PureComponent);H.defaultProps={_getResults:function(e){},_resetSearchPage:function(e){}};var U={_getResults:function(e){return function(t){return T.a.get(C,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(a){return t(function(e,t){return{type:p.c,payload:{data:e,state:t}}}(a.data,e))}).catch(function(e){return console.log("ERROR",e)})}},_resetSearchPage:function(){return function(e){return T.a.get(P,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(t){return e((a=t.data,{type:p.e,payload:{data:a}}));var a}).catch(function(e){return console.log("ERROR",e)})}}},G=Object(s.connect)(function(e){return{data:e.data,isBackToSearch:e.isBackToSearch}},U)(H),K=Object(n.lazy)(function(){return a.e(1).then(a.bind(null,374))}),M=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={loading:!0},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){!this.props.isBackToSearch&&this.props._searchPage()}},{key:"componentWillUnmount",value:function(){this.props._backToSearch()}},{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement(n.Fragment,null,r.a.createElement(B.a,{fluid:!0},r.a.createElement(G,null),r.a.createElement(w.a,null,t&&"object"===typeof t[0]?t.map(function(t){return t.listingId&&r.a.createElement(n.Suspense,{key:t.listingId||t,fallback:r.a.createElement("div",{className:"spinner"},r.a.createElement(R.RiseLoader,{sizeUnit:"px",size:10,margin:"50px",color:"#582668",loading:e.state.loading}))},r.a.createElement(K,{detail:t}))}):"string"===typeof t[0]?r.a.createElement("h1",{className:"text-center"},t[0]):null)))}}]),t}(n.PureComponent);M.defaultProps={_searchPage:function(e){},_backToSearch:function(e){}};var V={_searchPage:function(){return function(e){return T.a.get(x,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(t){return e((a=t.data,{type:p.b,payload:{data:a}}));var a}).catch(function(e){return console.log("ERROR",e)})}},_backToSearch:function(){return{type:p.a,payload:{isBackToSearch:!0}}}},q=Object(s.connect)(function(e){return{data:e.data,isBackToSearch:e.isBackToSearch}},V)(M),J=a(1),Q=a.n(J),W=a(141),$=a(368),X=a(15),Y=a.n(X),Z=Object(n.lazy)(function(){return a.e(2).then(a.bind(null,370))}),ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={loading:!0},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.singleData;return t&&r.a.createElement(B.a,null,r.a.createElement(w.a,null,r.a.createElement("h4",{onClick:function(){return e.context.router.history.push("/")},className:Y.a.backBtn}," \u21e6 BACK TO SEARCH RESULTS"),r.a.createElement("div",{className:Y.a.single},r.a.createElement("div",{className:Y.a.hero__wrapper},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{className:"spinner"},r.a.createElement(R.RiseLoader,{sizeUnit:"px",size:10,margin:"50px",color:"#582668",loading:this.state.loading}))},r.a.createElement(Z,{className:Y.a.hero_img,imgsrc:t.images&&t.images[0].desktopFullSizeRetina})),r.a.createElement("p",{className:Y.a.status},"Listing Status: ",t.listingStatus)),r.a.createElement("div",{className:Y.a.textContent},r.a.createElement("h1",{className:Y.a.price},"$",t.listPrice&&t.listPrice.toLocaleString("en")),r.a.createElement("h3",null,t.streetNumber," ",t.streetName," ",t.city,", ",t.state," ",t.postcode),r.a.createElement(w.a,null,r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,t.bedroomsTotal),r.a.createElement("h4",null,"Beds")),r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,t.bathroomsTotal),r.a.createElement("h4",null,"Beths")),r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,t.livingArea),r.a.createElement("h4",null,"Sq.ft")),r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,"$",t.listPrice&&(t.listPrice/t.livingArea).toFixed(2)),r.a.createElement("h4",null,"/sq.ft"))),r.a.createElement(z.a,{bsStyle:"success",bsSize:"lg",className:Y.a.bookBtn},"BOOK SHOWING"),r.a.createElement("div",{className:Y.a.desc},r.a.createElement("h1",null,"Property Description"),r.a.createElement("hr",null),r.a.createElement("p",{className:Y.a.desc_text},t.description)),r.a.createElement("div",{className:Y.a.features},r.a.createElement("h1",null,"Features"),r.a.createElement("hr",null),r.a.createElement("p",null,"Property Type: ",t.listingType," "),r.a.createElement("p",null,"County: ",t.state," "),r.a.createElement("p",null,"Year Built: ",t.yearBuilt," "))))))}}]),t}(n.Component);ee.contextTypes={router:Q.a.object.isRequired},ee.defaultProps={_getSingleList:function(e){}};var te={_getSingleList:W.a},ae=Object(s.connect)(function(e){return{singleData:e.singleData}},te)(ee),ne=a(152),re=a.n(ne),ce=a(369),oe=a(90),se=a.n(oe),le=function(){return r.a.createElement(B.a,{fluid:!0},r.a.createElement(w.a,null,r.a.createElement($.a,{className:se.a.header__wrapper},r.a.createElement(ce.a,{src:re.a,className:se.a.logo,width:200}))))},ie=function(){return r.a.createElement(E.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(le,null),r.a.createElement(b.a,null,r.a.createElement(S.a,{exact:!0,path:"/",component:q}),r.a.createElement(S.a,{path:"/listing/:id",component:ae}))))},ue=a(91),me=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={hasError:!1},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.log("Error Boundary:",e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(B.a,null,r.a.createElement(w.a,{className:ue.sty.eb__wrapper},r.a.createElement($.a,{xs:10,sm:10,md:8,lg:6,className:"text-center"},r.a.createElement("h4",{className:ue.sty.error_boundary},"Something went terribly wrong, but no need to panic. Just go back to your IDE and search for bugs. If the problem persists, go to google.com and google your bugs in a rapid manner.")))):this.props.children}}]),t}(n.PureComponent);o.a.render(r.a.createElement(me,null,r.a.createElement(s.Provider,{store:_},r.a.createElement(ie,null))),document.getElementById("root"))},46:function(e,t,a){e.exports={form__wrapper:"SearchBox_form__wrapper__10U53",form_content:"SearchBox_form_content__KfREi",inputfield:"SearchBox_inputfield__VPZUi",resetBtn:"SearchBox_resetBtn__5gLx5"}},90:function(e,t,a){e.exports={header__wrapper:"Header_header__wrapper__rtWJM",logo:"Header_logo__XcmTc"}},91:function(e,t,a){e.exports={eb__wrapper:"ErrorBoundary_eb__wrapper__17vup",error_boundary:"ErrorBoundary_error_boundary__3mSM4"}}},[[157,4,3]]]);
//# sourceMappingURL=main.ff4819d3.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(7),r=a(28),c=a.n(r),s="http://purplebricks.us-east-1.elasticbeanstalk.com/listing/";function o(e){return function(t){return c.a.get(s+e,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(e){return t((a=e.data,{type:n.e,payload:{data:a}}));var a}).catch(function(e){return console.log("ERROR: ",e)})}}},15:function(e,t,a){e.exports={backBtn:"SingleList_backBtn__QGFmA",single:"SingleList_single__2t8gq",hero__wrapper:"SingleList_hero__wrapper__263Qi",status:"SingleList_status__7owNm",textContent:"SingleList_textContent__Q9-DN",price:"SingleList_price__2voPi",bookBtn:"SingleList_bookBtn__1VKHV",desc:"SingleList_desc__1-wHO",desc_text:"SingleList_desc_text__23tnp",features:"SingleList_features__2tl7D"}},152:function(e,t,a){e.exports=a.p+"static/media/pb-logo-light.bcd740b4.svg"},157:function(e,t,a){e.exports=a(361)},166:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),s=a.n(c),o=a(20),l=(a(166),a(29)),i=a(145),u=a(146),p=a(156),m=a(7),d=a(59),h=a.n(d),f=Object(l.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case m.c:return n.data.results;case m.d:var r=h.a.filter(n.data.results,{state:n.state.toUpperCase()});return 0===r.length?["Sorry, no listings matched your search and filter criteria"]:[].concat(Object(p.a)(r),[n.state]);case m.f:return n.data.results;default:return e}},singleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===m.e?n.data:a===m.b?n.data:e},isBackToSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===m.a?n.isBackToSearch:e}});var g=Object(l.d)(Object(l.a)(u.a),window.devToolsExtension?window.devToolsExtension():function(e){return e},Object(i.persistState)(function(){var e=window.location.href.match(/[?&]debug_session=([^&#]+)\b/);return e&&e.length>0?e[1]:null}())),_=Object(l.e)(f,{isBackToSearch:!1},g),E=a(373),b=a(376),S=a(375),y=a(23),v=a(24),k=a(26),O=a(25),j=a(27),N=a(28),T=a.n(N),x="http://purplebricks.us-east-1.elasticbeanstalk.com/search";var B=a(366),R=a(367),w=a(60),C="http://purplebricks.us-east-1.elasticbeanstalk.com/search";var D="http://purplebricks.us-east-1.elasticbeanstalk.com/search";var P=a(377),L=a(372),A=a(365),z=a(371),I=a(46),F=a.n(I),H=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).onChangeInput=function(e){a.setState({stateName:e.target.value},function(){a.state.stateName.trim().length>0?a.setState({isDisabled:!1}):a.setState({isDisabled:!0})})},a.onReset=function(){return a.setState({stateName:"",isDisabled:!0},function(){return a.props._resetSearchPage()})},a.onSubmitForm=function(e){e.preventDefault(),a.props._getResults(a.state.stateName)},a.state={stateName:"",isDisabled:!0},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"getValidationState",value:function(){var e=this.state.stateName.length;return 2===e?"success":e>2?"error":null}},{key:"componentDidMount",value:function(){!this.props.isBackToSearch&&s.a.findDOMNode(this.myinput).focus();var e=this.props.data[this.props.data.length-1];this.props.isBackToSearch&&"string"===typeof e&&this.setState({stateName:e})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.stateName,c=t.isDisabled;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:F.a.form__wrapper},r.a.createElement("form",{autoFocus:!0,onSubmit:this.onSubmitForm},r.a.createElement(P.a,{controlId:"formBasicText",validationState:this.getValidationState(),className:F.a.form_content},r.a.createElement(L.a,{ref:function(t){return e.myinput=t},type:"text",name:"state",value:a,placeholder:"Search by State",onChange:this.onChangeInput,bsSize:"lg",className:F.a.inputfield}),r.a.createElement(L.a.Feedback,null),r.a.createElement(A.a,null,"State name must be two-letter. (e.g., CA)"),r.a.createElement(z.a,{bsStyle:"primary",bsSize:"lg",type:"submit",disabled:c},"UPDATE"))),r.a.createElement(z.a,{className:F.a.resetBtn,bsSize:"sm",onClick:this.onReset},"RESET")))}}]),t}(n.PureComponent);H.defaultProps={_getResults:function(e){},_resetSearchPage:function(e){}};var U={_getResults:function(e){return function(t){return T.a.get(C,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(a){return t(function(e,t){return{type:m.d,payload:{data:e,state:t}}}(a.data,e))}).catch(function(e){return console.log("ERROR",e)})}},_resetSearchPage:function(){return function(e){return T.a.get(D,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(t){return e((a=t.data,{type:m.f,payload:{data:a}}));var a}).catch(function(e){return console.log("ERROR",e)})}}},G=Object(o.connect)(function(e){return{data:e.data,isBackToSearch:e.isBackToSearch}},U)(H),K=Object(n.lazy)(function(){return a.e(1).then(a.bind(null,374))}),M=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).state={loading:!0},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){!this.props.isBackToSearch&&this.props._searchPage()}},{key:"componentWillUnmount",value:function(){this.props._backToSearch()}},{key:"render",value:function(){var e=this,t=this.props.data;return r.a.createElement(n.Fragment,null,r.a.createElement(B.a,{fluid:!0},r.a.createElement(G,null),r.a.createElement(R.a,null,t&&"object"===typeof t[0]?t.map(function(t){return t.listingId&&r.a.createElement(n.Suspense,{key:t.listingId||t,fallback:r.a.createElement("div",{className:"spinner"},r.a.createElement(w.RiseLoader,{sizeUnit:"px",size:10,margin:"50px",color:"#582668",loading:e.state.loading}))},r.a.createElement(K,{detail:t}))}):"string"===typeof t[0]?r.a.createElement("h1",{className:"text-center"},t[0]):null)))}}]),t}(n.PureComponent);M.defaultProps={_searchPage:function(e){},_backToSearch:function(e){}};var V={_searchPage:function(){return function(e){return T.a.get(x,{headers:{crossDomain:!0,"Content-Type":"application/json",Accept:"application/json",mode:"cors"}}).then(function(t){return e((a=t.data,{type:m.c,payload:{data:a}}));var a}).catch(function(e){return console.log("ERROR",e)})}},_backToSearch:function(){return{type:m.a,payload:{isBackToSearch:!0}}}},q=Object(o.connect)(function(e){return{data:e.data,isBackToSearch:e.isBackToSearch}},V)(M),J=a(1),W=a.n(J),Q=a(142);var $=a(368),X=a(15),Y=a.n(X),Z=Object(n.lazy)(function(){return a.e(2).then(a.bind(null,370))}),ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).state={loading:!0},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){this.props._clearSingleData()}},{key:"render",value:function(){var e=this,t=h.a.size(this.props.singleData),a=this.props.singleData;return a&&t>0&&r.a.createElement(B.a,null,r.a.createElement(R.a,null,r.a.createElement("h4",{onClick:function(){return e.context.router.history.push("/")},className:Y.a.backBtn}," \u21e6 BACK TO SEARCH RESULTS"),r.a.createElement("div",{className:Y.a.single},r.a.createElement("div",{className:Y.a.hero__wrapper},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{className:"spinner"},r.a.createElement(w.RiseLoader,{sizeUnit:"px",size:10,margin:"50px",color:"#582668",loading:this.state.loading}))},r.a.createElement(Z,{className:Y.a.hero_img,imgsrc:a.images&&a.images[0].desktopFullSizeRetina})),r.a.createElement("p",{className:Y.a.status},"Listing Status: ",a.listingStatus)),r.a.createElement("div",{className:Y.a.textContent},r.a.createElement("h1",{className:Y.a.price},"$",a.listPrice&&a.listPrice.toLocaleString("en")),r.a.createElement("h3",null,a.streetNumber," ",a.streetName," ",a.city,", ",a.state," ",a.postcode),r.a.createElement(R.a,null,r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,a.bedroomsTotal),r.a.createElement("h4",null,"Beds")),r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,a.bathroomsTotal),r.a.createElement("h4",null,"Beths")),r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,a.livingArea),r.a.createElement("h4",null,"Sq.ft")),r.a.createElement($.a,{xs:6,sm:3,md:3,lg:3},r.a.createElement("h3",null,"$",a.listPrice&&(a.listPrice/a.livingArea).toFixed(2)),r.a.createElement("h4",null,"/sq.ft"))),r.a.createElement(z.a,{bsStyle:"success",bsSize:"lg",className:Y.a.bookBtn},"BOOK SHOWING"),r.a.createElement("div",{className:Y.a.desc},r.a.createElement("h1",null,"Property Description"),r.a.createElement("hr",null),r.a.createElement("p",{className:Y.a.desc_text},a.description)),r.a.createElement("div",{className:Y.a.features},r.a.createElement("h1",null,"Features"),r.a.createElement("hr",null),r.a.createElement("p",null,"Property Type: ",a.listingType," "),r.a.createElement("p",null,"County: ",a.state," "),r.a.createElement("p",null,"Year Built: ",a.yearBuilt," "))))))}}]),t}(n.Component);ee.contextTypes={router:W.a.object.isRequired},ee.defaultProps={_getSingleList:function(e){},_clearSingleData:function(e){}};var te={_getSingleList:Q.a,_clearSingleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:m.b,payload:{data:e}}}},ae=Object(o.connect)(function(e){return{singleData:e.singleData}},te)(ee),ne=a(152),re=a.n(ne),ce=a(369),se=a(91),oe=a.n(se),le=function(){return r.a.createElement(B.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement($.a,{className:oe.a.header__wrapper},r.a.createElement(ce.a,{src:re.a,className:oe.a.logo,width:200}))))},ie=function(){return r.a.createElement(E.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(le,null),r.a.createElement(b.a,null,r.a.createElement(S.a,{exact:!0,path:"/",component:q}),r.a.createElement(S.a,{path:"/listing/:id",component:ae}))))},ue=a(92),pe=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(k.a)(this,Object(O.a)(t).call(this,e))).state={hasError:!1},a}return Object(j.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.log("Error Boundary:",e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(B.a,null,r.a.createElement(R.a,{className:ue.sty.eb__wrapper},r.a.createElement($.a,{xs:10,sm:10,md:8,lg:6,className:"text-center"},r.a.createElement("h4",{className:ue.sty.error_boundary},"Something went terribly wrong, but no need to panic. Just go back to your IDE and search for bugs. If the problem persists, go to google.com and google your bugs in a rapid manner.")))):this.props.children}}]),t}(n.PureComponent);s.a.render(r.a.createElement(pe,null,r.a.createElement(o.Provider,{store:_},r.a.createElement(ie,null))),document.getElementById("root"))},46:function(e,t,a){e.exports={form__wrapper:"SearchBox_form__wrapper__10U53",form_content:"SearchBox_form_content__KfREi",inputfield:"SearchBox_inputfield__VPZUi",resetBtn:"SearchBox_resetBtn__5gLx5"}},7:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"f",function(){return c}),a.d(t,"e",function(){return s}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l});var n="GET_SEARCH_RESULTS",r="GET_SEARCH_PAGE",c="RESET_SEARCH_PAGE",s="GET_SINGLE_LIST",o="BACK_TO_SEARCH",l="CLEAR_SINGLE_DATA"},91:function(e,t,a){e.exports={header__wrapper:"Header_header__wrapper__rtWJM",logo:"Header_logo__XcmTc"}},92:function(e,t,a){e.exports={eb__wrapper:"ErrorBoundary_eb__wrapper__17vup",error_boundary:"ErrorBoundary_error_boundary__3mSM4"}}},[[157,4,3]]]);
//# sourceMappingURL=main.d0947f4d.chunk.js.map